{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import styled from'styled-components';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 20px;\n  background-color: var(--background-color);\n`;const LoginForm=styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 400px;\n  padding: 30px;\n  background-color: var(--chat-bg);\n  border-radius: 12px;\n  box-shadow: 0 4px 12px var(--shadow-color);\n\n  h2 {\n    margin-bottom: 24px;\n    text-align: center;\n    color: var(--primary-color);\n  }\n`;const FormGroup=styled.div`\n  margin-bottom: 20px;\n\n  label {\n    display: block;\n    margin-bottom: 8px;\n    font-weight: 500;\n  }\n\n  input {\n    width: 100%;\n    padding: 12px;\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n    font-size: 16px;\n    transition: border-color 0.2s;\n\n    &:focus {\n      border-color: var(--primary-color);\n    }\n  }\n`;const LoginButton=styled.button`\n  padding: 12px;\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  margin-top: 10px;\n\n  &:hover {\n    background-color: var(--accent-color);\n  }\n\n  &:disabled {\n    background-color: var(--text-secondary);\n    cursor: not-allowed;\n  }\n`;const ErrorMessage=styled.div`\n  color: var(--error-color);\n  margin-bottom: 20px;\n  text-align: center;\n`;const RegisterLink=styled.div`\n  margin-top: 20px;\n  text-align: center;\n  font-size: 15px;\n\n  a {\n    color: var(--primary-color);\n    font-weight: 600;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;const Logo=styled.div`\n  font-size: 32px;\n  font-weight: bold;\n  color: var(--primary-color);\n  margin-bottom: 30px;\n  text-align: center;\n`;const Login=()=>{const[formData,setFormData]=useState({username:'',password:''});const[isLoading,setIsLoading]=useState(false);const{login,error}=useAuth();const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();if(!formData.username||!formData.password){return;}setIsLoading(true);try{await login(formData);navigate('/');}catch(error){console.error('Errore durante il login:',error);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(LoginContainer,{children:[/*#__PURE__*/_jsx(Logo,{children:\"WaiChat\"}),/*#__PURE__*/_jsxs(LoginForm,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Accedi\"}),error&&/*#__PURE__*/_jsx(ErrorMessage,{children:error}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username o Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(LoginButton,{type:\"submit\",disabled:isLoading,children:isLoading?'Accesso in corso...':'Accedi'}),/*#__PURE__*/_jsxs(RegisterLink,{children:[\"Non hai ancora un account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Registrati\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","styled","useAuth","jsx","_jsx","jsxs","_jsxs","LoginContainer","div","LoginForm","form","FormGroup","LoginButton","button","ErrorMessage","RegisterLink","Logo","Login","formData","setFormData","username","password","isLoading","setIsLoading","login","error","navigate","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","console","children","onSubmit","htmlFor","type","id","onChange","required","disabled","to"],"sources":["/app/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 20px;\n  background-color: var(--background-color);\n`;\n\nconst LoginForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 400px;\n  padding: 30px;\n  background-color: var(--chat-bg);\n  border-radius: 12px;\n  box-shadow: 0 4px 12px var(--shadow-color);\n\n  h2 {\n    margin-bottom: 24px;\n    text-align: center;\n    color: var(--primary-color);\n  }\n`;\n\nconst FormGroup = styled.div`\n  margin-bottom: 20px;\n\n  label {\n    display: block;\n    margin-bottom: 8px;\n    font-weight: 500;\n  }\n\n  input {\n    width: 100%;\n    padding: 12px;\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n    font-size: 16px;\n    transition: border-color 0.2s;\n\n    &:focus {\n      border-color: var(--primary-color);\n    }\n  }\n`;\n\nconst LoginButton = styled.button`\n  padding: 12px;\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  margin-top: 10px;\n\n  &:hover {\n    background-color: var(--accent-color);\n  }\n\n  &:disabled {\n    background-color: var(--text-secondary);\n    cursor: not-allowed;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: var(--error-color);\n  margin-bottom: 20px;\n  text-align: center;\n`;\n\nconst RegisterLink = styled.div`\n  margin-top: 20px;\n  text-align: center;\n  font-size: 15px;\n\n  a {\n    color: var(--primary-color);\n    font-weight: 600;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Logo = styled.div`\n  font-size: 32px;\n  font-weight: bold;\n  color: var(--primary-color);\n  margin-bottom: 30px;\n  text-align: center;\n`;\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const { login, error } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!formData.username || !formData.password) {\n      return;\n    }\n    \n    setIsLoading(true);\n    \n    try {\n      await login(formData);\n      navigate('/');\n    } catch (error) {\n      console.error('Errore durante il login:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <LoginContainer>\n      <Logo>WaiChat</Logo>\n      <LoginForm onSubmit={handleSubmit}>\n        <h2>Accedi</h2>\n        \n        {error && <ErrorMessage>{error}</ErrorMessage>}\n        \n        <FormGroup>\n          <label htmlFor=\"username\">Username o Email</label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n            required\n          />\n        </FormGroup>\n        \n        <FormGroup>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n          />\n        </FormGroup>\n        \n        <LoginButton type=\"submit\" disabled={isLoading}>\n          {isLoading ? 'Accesso in corso...' : 'Accedi'}\n        </LoginButton>\n        \n        <RegisterLink>\n          Non hai ancora un account? <Link to=\"/register\">Registrati</Link>\n        </RegisterLink>\n      </LoginForm>\n    </LoginContainer>\n  );\n};\n\nexport default Login; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,cAAc,CAAGN,MAAM,CAACO,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGR,MAAM,CAACS,IAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGV,MAAM,CAACO,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAI,WAAW,CAAGX,MAAM,CAACY,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGb,MAAM,CAACO,GAAG;AAC/B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAO,YAAY,CAAGd,MAAM,CAACO,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,IAAI,CAAGf,MAAM,CAACO,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAS,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,CACvCsB,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAE0B,KAAK,CAAEC,KAAM,CAAC,CAAGvB,OAAO,CAAC,CAAC,CAClC,KAAM,CAAAwB,QAAQ,CAAG1B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAA2B,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCZ,WAAW,CAAEa,IAAI,GAAM,CACrB,GAAGA,IAAI,CACP,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAElB,GAAI,CAAChB,QAAQ,CAACE,QAAQ,EAAI,CAACF,QAAQ,CAACG,QAAQ,CAAE,CAC5C,OACF,CAEAE,YAAY,CAAC,IAAI,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,KAAK,CAACN,QAAQ,CAAC,CACrBQ,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOD,KAAK,CAAE,CACdU,OAAO,CAACV,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,OAAS,CACRF,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,mBACEjB,KAAA,CAACC,cAAc,EAAA6B,QAAA,eACbhC,IAAA,CAACY,IAAI,EAAAoB,QAAA,CAAC,SAAO,CAAM,CAAC,cACpB9B,KAAA,CAACG,SAAS,EAAC4B,QAAQ,CAAEJ,YAAa,CAAAG,QAAA,eAChChC,IAAA,OAAAgC,QAAA,CAAI,QAAM,CAAI,CAAC,CAEdX,KAAK,eAAIrB,IAAA,CAACU,YAAY,EAAAsB,QAAA,CAAEX,KAAK,CAAe,CAAC,cAE9CnB,KAAA,CAACK,SAAS,EAAAyB,QAAA,eACRhC,IAAA,UAAOkC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAClDhC,IAAA,UACEmC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbX,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEZ,QAAQ,CAACE,QAAS,CACzBqB,QAAQ,CAAEd,YAAa,CACvBe,QAAQ,MACT,CAAC,EACO,CAAC,cAEZpC,KAAA,CAACK,SAAS,EAAAyB,QAAA,eACRhC,IAAA,UAAOkC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1ChC,IAAA,UACEmC,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbX,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEZ,QAAQ,CAACG,QAAS,CACzBoB,QAAQ,CAAEd,YAAa,CACvBe,QAAQ,MACT,CAAC,EACO,CAAC,cAEZtC,IAAA,CAACQ,WAAW,EAAC2B,IAAI,CAAC,QAAQ,CAACI,QAAQ,CAAErB,SAAU,CAAAc,QAAA,CAC5Cd,SAAS,CAAG,qBAAqB,CAAG,QAAQ,CAClC,CAAC,cAEdhB,KAAA,CAACS,YAAY,EAAAqB,QAAA,EAAC,6BACe,cAAAhC,IAAA,CAACL,IAAI,EAAC6C,EAAE,CAAC,WAAW,CAAAR,QAAA,CAAC,YAAU,CAAM,CAAC,EACrD,CAAC,EACN,CAAC,EACE,CAAC,CAErB,CAAC,CAED,cAAe,CAAAnB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}